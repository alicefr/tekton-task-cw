# Create encrypted image for Confidential workloads

## Build
```
$ podman build -t image-tekton-encrypt -f image/Dockerfile
```

## RUN
Locally in a separate directory
```bash
$ sudo mkdir -p /var/lib/containers1 
$ sudo podman run --privileged -it -v /var/lib/containers1:/var/lib/containers:Z localhost/image-tekton-encrypt  fedora:latest encrypt myamazingpassword
$ sudo podman --root /var/lib/containers1/storage images  -a
REPOSITORY                         TAG         IMAGE ID      CREATED         SIZE
localhost/encrypt                  latest      44d10fe62130  16 minutes ago  3.25 kB
<none>                             <none>      4ae8fc7c1659  21 minutes ago  3.25 kB
registry.fedoraproject.org/fedora  latest      1b52edb08181  16 hours ago    159 MB
```

In OCP cluster generated by CRC:
```bash
$ cd demo
$ ./demo.sh
```
